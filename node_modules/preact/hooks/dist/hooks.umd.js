!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact")):"function"==typeof define&&define.amd?define(["exports","preact"],t):t(n.preactHooks={},n.preact)}(this,function(n,t){var u,r,o,i,f=0,c=[],e=[],a=t.options.__b,v=t.options.__r,l=t.options.diffed,d=t.options.__c,p=t.options.unmount;function m(n,u){t.options.__h&&t.options.__h(r,n,f||u),f=0;var o=r.__H||(r.__H={__:[],__h:[]});return n>=o.__.length&&o.__.push({__V:e}),o.__[n]}function y(n){return f=1,s(b,n)}function s(n,t,o){var i=m(u++,2);if(i.t=n,!i.__c&&(i.__=[o?o(t):b(void 0,t),function(n){var t=i.__N?i.__N[0]:i.__[0],u=i.t(t,n);t!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=r,!i.__c.u)){i.__c.__H.u=!0;var f=i.__c.shouldComponentUpdate;i.__c.shouldComponentUpdate=function(n,t,u){var r=i.__c.__H.__.filter(function(n){return n.__c});return r.every(function(n){return!n.__N})?!f||f(n,t,u):!r.every(function(n){if(!n.__N)return!0;var t=n.__[0];return n.__=n.__N,n.__N=void 0,t===n.__[0]})&&(!f||f(n,t,u))}}return i.__N||i.__}function _(n,o){var i=m(u++,4);!t.options.__s&&T(i.__H,o)&&(i.__=n,i.o=o,r.__h.push(i))}function h(n,t){var r=m(u++,7);return T(r.__H,t)?(r.__V=n(),r.o=t,r.__h=n,r.__V):r.__}function q(){for(var n;n=c.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(A),n.__H.__h.forEach(F),n.__H.__h=[]}catch(u){n.__H.__h=[],t.options.__e(u,n.__v)}}t.options.__b=function(n){r=null,a&&a(n)},t.options.__r=function(n){v&&v(n),u=0;var t=(r=n.__c).__H;t&&(o===r?(t.__h=[],r.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=e,n.__N=n.o=void 0})):(t.__h.forEach(A),t.__h.forEach(F),t.__h=[])),o=r},t.options.diffed=function(n){l&&l(n);var u=n.__c;u&&u.__H&&(u.__H.__h.length&&(1!==c.push(u)&&i===t.options.requestAnimationFrame||((i=t.options.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),x&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);x&&(t=requestAnimationFrame(u))})(q)),u.__H.__.forEach(function(n){n.o&&(n.__H=n.o),n.__V!==e&&(n.__=n.__V),n.o=void 0,n.__V=e})),o=r=null},t.options.__c=function(n,u){u.some(function(n){try{n.__h.forEach(A),n.__h=n.__h.filter(function(n){return!n.__||F(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],t.options.__e(r,n.__v)}}),d&&d(n,u)},t.options.unmount=function(n){p&&p(n);var u,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{A(n)}catch(n){u=n}}),u&&t.options.__e(u,r.__v))};var x="function"==typeof requestAnimationFrame;function A(n){var t=r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),r=t}function F(n){var t=r;n.__c=n.__(),r=t}function T(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function b(n,t){return"function"==typeof t?t(n):t}n.useState=y,n.useReducer=s,n.useEffect=function(n,o){var i=m(u++,3);!t.options.__s&&T(i.__H,o)&&(i.__=n,i.o=o,r.__H.__h.push(i))},n.useLayoutEffect=_,n.useRef=function(n){return f=5,h(function(){return{current:n}},[])},n.useImperativeHandle=function(n,t,u){f=6,_(function(){return"function"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))},n.useMemo=h,n.useCallback=function(n,t){return f=8,h(function(){return n},t)},n.useContext=function(n){var t=r.context[n.__c],o=m(u++,9);return o.c=n,t?(null==o.__&&(o.__=!0,t.sub(r)),t.props.value):n.__},n.useDebugValue=function(n,u){t.options.useDebugValue&&t.options.useDebugValue(u?u(n):n)},n.useErrorBoundary=function(n){var t=m(u++,10),o=y();return t.__=n,r.componentDidCatch||(r.componentDidCatch=function(n){t.__&&t.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}});
//# sourceMappingURL=hooks.umd.js.map
